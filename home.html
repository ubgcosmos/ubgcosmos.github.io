<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cosmos</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    overflow: hidden;
    height: 100vh;
    background: #0d0d0d;
    transition: background 0.3s ease;
}
body.light-mode { background: #fafafa; }

.container { display: flex; height: 100vh; }

/* Sidebar */
.sidebar {
    width: 72px;
    background: #1a1a1a;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px 0 16px;
    position: relative;
    z-index: 100;
    border-right: 1px solid #2a2a2a;
    transition: width 0.2s ease;
}
.sidebar:hover { width: 220px; box-shadow: 2px 0 12px rgba(0,0,0,0.3); }
.sidebar-header { display: flex; align-items: center; justify-content: flex-start; margin-bottom: 32px; width: 100%; padding: 0 16px; }
.logo-container { display: flex; align-items: center; gap: 12px; cursor: pointer; background: transparent; padding: 0; border-radius: 12px; transition: all 0.2s ease; }
.sidebar:hover .logo-container { background: #fff; padding: 8px 12px; }
.logo-icon { width: 48px; height: 48px; border-radius: 10px; display: flex; align-items: center; justify-content: center; flex-shrink: 0; overflow: hidden; background: #fff; padding: 4px; transition: all 0.2s ease; }
.sidebar:hover .logo-icon { background: transparent; padding: 0; }
.logo-icon img { width: 100%; height: 100%; object-fit: cover; border-radius: 8px; }
.logo-text { font-size: 17px; font-weight: 600; color: #1a1a1a; opacity: 0; white-space: nowrap; transition: opacity 0.2s ease; letter-spacing: -0.3px; }
.sidebar:hover .logo-text { opacity: 1; }
.nav-items { flex: 1; width: 100%; display: flex; flex-direction: column; gap: 2px; padding: 0 12px; }
.nav-item { display: flex; align-items: center; padding: 10px 12px; color: #888; cursor: pointer; border-radius: 10px; transition: all 0.15s ease; position: relative; text-decoration: none; }
.nav-item:hover { background: #242424; color: #e5e5e5; }
.nav-item.active { background: #2a2a2a; color: #fff; }
.nav-icon { min-width: 24px; height: 24px; display: flex; align-items: center; justify-content: center; font-size: 16px; }
.nav-text { margin-left: 12px; font-size: 14px; font-weight: 500; white-space: nowrap; opacity: 0; transition: opacity 0.2s ease; }
.sidebar:hover .nav-text { opacity: 1; }
.sidebar-footer { margin-top: auto; padding: 12px 16px; display: flex; align-items: center; justify-content: flex-start; width: 100%; border-top: 1px solid #2a2a2a; }
.footer-content { display: flex; align-items: center; gap: 8px; }
.footer-text { font-size: 12px; color: #666; opacity: 0; white-space: nowrap; transition: opacity 0.2s ease; font-weight: 500; }
.sidebar:hover .footer-text { opacity: 1; }
.footer-icon { font-size: 12px; color: #666; }

/* Main Content */
.main-content { flex: 1; position: relative; overflow: hidden; background: #0d0d0d; display: flex; flex-direction: column; }
.content-frame { width: 100%; height: calc(100% - 100px); border: none; display: none; }
.settings-panel { width: 100%; height: 100%; background: #1a1a1a; overflow-y: auto; padding: 40px; display: none; }

/* Homepage */
.homepage { display: flex; flex-direction: column; height: 100%; }
.top-bar { display: flex; justify-content: space-between; align-items: center; padding: 24px 40px; background: rgba(26,26,26,0.5); backdrop-filter: blur(10px); border-bottom: 1px solid #2a2a2a; font-size: 22px; font-weight: 700; color: #ccc; }
.center-content { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 40px; gap: 24px; }
.brand-display { display: flex; align-items: center; gap: 24px; animation: fadeInUp 0.8s ease; }
.brand-icon { width: 140px; height: 140px; background: #fff; border-radius: 24px; padding: 8px; display: flex; align-items: center; justify-content: center; }
.brand-icon img { width: 100%; height: 100%; object-fit: cover; border-radius: 20px; }
.brand-title { font-size: 96px; font-weight: 800; color: #e5e5e5; letter-spacing: -2px; background: linear-gradient(135deg,#e5e5e5 0%,#888 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
.typewriter { font-size: 28px; color: #3b82f6; font-weight: 500; min-height: 30px; }

@media (max-width: 768px) {
    .brand-display { flex-direction: column; gap: 16px; }
    .brand-title { font-size: 64px; }
    .brand-icon { width: 80px; height: 80px; }
    .top-bar { padding: 16px 20px; font-size: 18px; }
    .typewriter { font-size: 18px; }
}
</style>
</head>
<body>

<div class="container">
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="sidebar-header">
            <div class="logo-container">
                <div class="logo-icon">
                    <img src="https://ubgcosmos.github.io/logo.png" alt="Cosmos Logo">
                </div>
                <div class="logo-text">Cosmos</div>
            </div>
        </div>

        <div class="nav-items">
            <a class="nav-item active" data-page="home">
                <span class="nav-icon"><i class="fas fa-home"></i></span>
                <span class="nav-text">Home</span>
            </a>
            <a class="nav-item" data-page="iframe" data-url="https://ubgcosmos.github.io/docs">
                <span class="nav-icon"><i class="fas fa-gamepad"></i></span>
                <span class="nav-text">Games</span>
            </a>
            <a class="nav-item" data-page="iframe" data-url="https://ubgcosmos.github.io/stats">
                <span class="nav-icon"><i class="fas fa-ghost"></i></span>
                <span class="nav-text">Gameboy</span>
            </a>
            <a class="nav-item" data-page="iframe" data-url="https://ubgcosmos.github.io/downloads">
                <span class="nav-icon"><i class="fas fa-download"></i></span>
                <span class="nav-text">Downloads</span>
            </a>
            <a class="nav-item" data-page="iframe" data-url="https://ubgcosmos.github.io/ai">
                <span class="nav-icon"><i class="fas fa-brain"></i></span>
                <span class="nav-text">AI</span>
            </a>
            <a class="nav-item" data-page="iframe" data-url="https://ubgcosmos.github.io/credits">
                <span class="nav-icon"><i class="fas fa-heart"></i></span>
                <span class="nav-text">Credits</span>
            </a>
            <a class="nav-item" data-page="iframe" data-url="https://ubgcosmos.github.io/feedback.html">
                <span class="nav-icon"><i class="fas fa-comment"></i></span>
                <span class="nav-text">Feedback</span>
            </a>
            <a class="nav-item" data-page="settings">
                <span class="nav-icon"><i class="fas fa-cog"></i></span>
                <span class="nav-text">Settings</span>
            </a>
        </div>

        <div class="sidebar-footer">
            <div class="footer-content">
                <span class="footer-icon"><i class="fas fa-sparkles"></i></span>
                <span class="footer-text">by Ethan Tang</span>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">

        <!-- Homepage -->
        <div class="homepage" id="homePage">
            <div class="top-bar">
                <div class="info-item">
                    <i class="fas fa-clock info-icon"></i>
                    <span class="info-value" id="currentTime">--:--:--</span>
                </div>
                <div class="info-item">
                    <i class="fas fa-calendar info-icon"></i>
                    <span class="info-value" id="currentDate">Loading...</span>
                </div>
                <div class="info-item">
                    <i class="fas fa-cloud-sun info-icon"></i>
                    <span class="info-value" id="weather">Loading weather...</span>
                </div>
            </div>
            <div class="center-content">
                <div class="brand-display">
                    <div class="brand-icon">
                        <img src="https://ubgcosmos.github.io/logo.png" alt="Cosmos">
                    </div>
                    <h1 class="brand-title">Cosmos</h1>
                </div>
                <div class="typewriter" id="typewriter"></div>
            </div>
        </div>

        <!-- Settings Panel -->
        <div class="settings-panel" id="settingsPanel">
            <h1 style="color:#e5e5e5">Settings panel here</h1>
        </div>

    </div>
</div>

<script>
// Time + Date
function updateTime() {
    const now = new Date();
    document.getElementById("currentTime").textContent = now.toLocaleTimeString();
    document.getElementById("currentDate").textContent = now.toLocaleDateString([], { weekday: 'long', month: 'long', day: 'numeric' });
}
setInterval(updateTime, 1000);
updateTime();

// Weather
async function loadWeather() {
    try {
        const ipData = await fetch("https://ipinfo.io/json?token=be26bfc118c4b0").then(r=>r.json());
        const [lat, lon] = ipData.loc.split(",");
        const city = ipData.city;
        const weatherData = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true`).then(r=>r.json());
        const temp = weatherData.current_weather.temperature;
        const code = weatherData.current_weather.weathercode;
        const weatherNames = {0:"Clear",1:"Mainly Clear",2:"Partly Cloudy",3:"Cloudy",45:"Fog",48:"Fog",51:"Drizzle",61:"Rain",80:"Rain",95:"Storm"};
        document.getElementById("weather").textContent = `${city} • ${weatherNames[code] ?? "Weather"} • ${temp}°C`;
    } catch (err) {
        document.getElementById("weather").textContent = "Weather unavailable";
    }
}
loadWeather();

// Typewriter
const phrases = ["By Ethan Tang","Venture into the unknown.","Discover new worlds.","The universe awaits.","The sky isn't the limit."];
function typePhrase(element,text,callback){let i=0;element.textContent="";const interval=setInterval(()=>{element.textContent+=text[i];i++;if(i>=text.length){clearInterval(interval);if(callback)callback();}},100);}
function startTyping(){const phrase=phrases[Math.floor(Math.random()*phrases.length)];typePhrase(document.getElementById("typewriter"),phrase);}
window.onload=startTyping;

// Iframes preloading
const navItems = document.querySelectorAll('.nav-item');
const homePage = document.getElementById('homePage');
const settingsPanel = document.getElementById('settingsPanel');

const iframeUrls = Array.from(navItems).filter(i=>i.dataset.page==='iframe').map(i=>i.dataset.url);
const preloadedIframes = {};
iframeUrls.forEach(url=>{
    const iframe = document.createElement('iframe');
    iframe.src = url;
    iframe.className = 'content-frame';
    iframe.dataset.loaded = '';
    document.querySelector('.main-content').appendChild(iframe);
    preloadedIframes[url] = iframe;
});

// Navigation
navItems.forEach(item=>{
    item.addEventListener('click',()=>{
        navItems.forEach(nav=>nav.classList.remove('active'));
        item.classList.add('active');

        const page = item.dataset.page;
        const url = item.dataset.url;

        homePage.style.display='none';
        settingsPanel.style.display='none';
        Object.values(preloadedIframes).forEach(f=>f.style.display='none');

        if(page==='home'){
            homePage.style.display='flex';
        }else if(page==='settings'){
            settingsPanel.style.display='block';
        }else if(page==='iframe'){
            const iframe = preloadedIframes[url];
            iframe.style.display='block';
        }
    });
});
</script>

</body>
</html>
